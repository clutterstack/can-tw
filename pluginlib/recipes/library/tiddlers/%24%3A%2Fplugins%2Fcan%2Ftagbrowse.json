{"title":"$:/plugins/can/tagbrowse","description":"Tagbrowse - Easily filter tiddlers by tag combinations","author":"Chris Nicoll","version":"0.0.2","core-version":">=5.1.22","source":"","list":"readme license","plugin-type":"plugin","dependents":"","type":"application/json","text":"{\n    \"tiddlers\": {\n        \"Browse by tags\": {\n            \"title\": \"Browse by tags\",\n            \"contains-filter\": \"<$text text=\\\"[enlist<desiredTags>tagging[]!is[missing]]\\\"/>\",\n            \"contains-not-filter\": \"<$text text=\\\" -[enlist<undesiredTags>tagging[]]\\\"/>\",\n            \"created\": \"20200819034130850\",\n            \"filter-type\": \"any\",\n            \"latest-omniexport\": \"\",\n            \"selector-filter\": \"tags[]\",\n            \"singleormulti\": \"multi\",\n            \"tags\": \"$:/tags/OmniTool\",\n            \"type\": \"text/vnd.tiddlywiki\",\n            \"text\": \"<<tagbrowse>>\"\n        },\n        \"$:/plugins/can/browsetags/state/reveal\": {\n            \"title\": \"$:/plugins/can/browsetags/state/reveal\",\n            \"created\": \"20200817145844611\",\n            \"modified\": \"20200817145844631\",\n            \"type\": \"text/vnd.tiddlywiki\",\n            \"text\": \"show\"\n        },\n        \"$:/plugins/can/tagbrowse/exclude-icon.svg\": {\n            \"title\": \"$:/plugins/can/tagbrowse/exclude-icon.svg\",\n            \"text\": \"<svg\\n   width=\\\"22.0px\\\"\\n   height=\\\"22.0px\\\"\\n   viewBox=\\\"0 0 22.0 22.0\\\"\\n  >\\n  <path\\n     d=\\\"M 11 0 C 4.9420102 -6.7990993e-16 6.3416984e-08 4.942011 0 11 C -3.8050193e-07 17.057989 4.9420099 22 11 22 C 17.05799 22 22 17.057989 22 11 C 22 4.9420111 17.05799 1.9025087e-07 11 0 z M 11 2.8945312 C 12.74145 2.8945313 14.346357 3.4411553 15.664062 4.3671875 L 4.3515625 15.642578 C 3.4348286 14.32894 2.8945312 12.731867 2.8945312 11 C 2.8945314 6.5064449 6.5064436 2.8945312 11 2.8945312 z M 17.6875 6.4101562 C 18.581421 7.7135553 19.105469 9.2918067 19.105469 11 C 19.105469 15.493555 15.493557 19.105469 11 19.105469 C 9.2812373 19.105469 7.6947225 18.573999 6.3867188 17.669922 L 17.6875 6.4101562 z \\\"\\n      />\\n</svg>\\n\"\n        },\n        \"$:/plugins/can/tagbrowse/license\": {\n            \"title\": \"$:/plugins/can/tagbrowse/license\",\n            \"caption\": \"license\",\n            \"text\": \"BSD 3-Clause License\\n\\nCopyright (c) 2020, Chris Nicoll\\n\\nAll rights reserved.\\n\\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\\n\\n1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\\n\\n2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\\n\\n3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.\\n\\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \\\"AS IS\\\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\"\n        },\n        \"$:/plugins/can/tagbrowse/macros/composefilters\": {\n            \"title\": \"$:/plugins/can/tagbrowse/macros/composefilters\",\n            \"tags\": \"[[Filter by tag macro]] can $:/tags/Macro\",\n            \"type\": \"text/vnd.tiddlywiki\",\n            \"text\": \"\\\\whitespace trim\\n\\n\\\\define filterOutUndesired() <$text text=\\\" -[enlist<undesiredTags>tagging[]]\\\"/>\\n\\n\\\\define getTiddlersWithAll()\\n<$action-setfield tiddler='$(targetTiddler)$' contains-filter=\\\"[<$list filter='[enlist<desiredTags>]'>tag[<$view field='title'/>]</$list>]\\\"/>\\n<$action-setfield tiddler='$(targetTiddler)$' contains-not-filter=<<filterOutUndesired>>/>\\n\\\\end\\n\\n\\\\define getTiddlersWithAllV2()\\n<$action-setfield tiddler='$(targetTiddler)$' contains-filter=\\\"[<$list filter='[enlist<desiredTags>]'>tag[<$view field='title'/>]</$list>] -[is[missing]]\\\"/>\\n<$action-setfield tiddler='$(targetTiddler)$' contains-not-filter=<<filterOutUndesired>>/>\\n\\\\end\\n\\n\\\\define getTiddlersWithAny() <$action-setfield tiddler='$(targetTiddler)$' contains-filter='<$text text=\\\"[enlist<desiredTags>tagging[]!is[missing]]\\\"/>' /><$action-setfield tiddler='$(targetTiddler)$' contains-not-filter=<<filterOutUndesired>>/>\\n\\n\\\\define getTiddlersWithExactly() \\n<$action-setfield tiddler='$(targetTiddler)$' contains-filter=\\\"[<$list filter='[enlist<desiredTags>]'>tag[<$view field='title'/>]</$list>]\\\"/>\\n<$action-setfield tiddler='$(targetTiddler)$' contains-not-filter=\\\"+[<$list filter='[tags[]!enlist<desiredTags>]'>!tag[<$view field='title'/>]</$list>!untagged[]]\\\"/>\\n\\\\end\\n\\n\\\\define getTiddlersWithExactlyV2() \\n<$action-setfield tiddler='$(targetTiddler)$' contains-filter=\\\"[<$list filter='[enlist<desiredTags>]'>tag[<$view field='title'/>]</$list>]\\\"/>\\n<$action-setfield tiddler='$(targetTiddler)$' contains-not-filter=\\\" <$list filter='[tags[]!enlist<desiredTags>]'>-[tag[<$view field='title'/>]] </$list>\\\"/>\\n\\\\end\\n\\n\\\\define getTiddlersWithNone() <$action-setfield tiddler='$(targetTiddler)$' contains-filter='<$text text=\\\"[!is[system]]-[enlist<desiredTags>tagging[]]\\\"/>' /><$action-setfield tiddler='$(targetTiddler)$' contains-not-filter=<<filterOutUndesired>>/>\\n\\n\\n\\\\define getTiddlersWithOnlyOthers() <$action-setfield tiddler='$(targetTiddler)$' contains-filter='<$text text=\\\"[!is[system]!untagged[]]-[enlist<desiredTags>tagging[]]\\\"/>' /><$action-setfield tiddler='$(targetTiddler)$' contains-not-filter=<<filterOutUndesired>>/>\\n\\n\\\\define getUntaggedTiddlers() <$action-setfield tiddler='$(targetTiddler)$' contains-filter='<$text text=\\\"[!is[system]untagged[]]\\\"/>' /><$action-setfield tiddler='$(targetTiddler)$' contains-not-filter=<<filterOutUndesired>>/>\\n\"\n        },\n        \"$:/plugins/can/tagbrowse/macros/filterbytags\": {\n            \"title\": \"$:/plugins/can/tagbrowse/macros/filterbytags\",\n            \"tags\": \"[[Filter by tag macro]] can $:/tags/Macro\",\n            \"type\": \"text/vnd.tiddlywiki\",\n            \"text\": \"\\\\whitespace trim\\n\\n\\n\\\\define filtertypeselect() \\n<div class=\\\"can-tool-row\\\"> \\n    <$button set=\\\"$(targetTiddler)$!!filter-type\\\" setTo=\\\"all\\\" actions=<<getTiddlersWithAllV2>> class=\\\"can-button\\\" selectedClass=\\\"selected\\\">All</$button>\\n    <$button set=\\\"$(targetTiddler)$!!filter-type\\\" setTo=\\\"any\\\" actions=<<getTiddlersWithAny>> class=\\\"can-button\\\" selectedClass=\\\"selected\\\">Any</$button>\\n    <$button set=\\\"$(targetTiddler)$!!filter-type\\\" setTo=\\\"exactly\\\" actions=<<getTiddlersWithExactlyV2>> class=\\\"can-button\\\" selectedClass=\\\"selected\\\">Exactly</$button>\\n</div>\\n<div class=\\\"can-tool-row\\\"> \\n    <$button set=\\\"$(targetTiddler)$!!filter-type\\\" setTo=\\\"none\\\" actions=<<getTiddlersWithNone>> class=\\\"can-button\\\" selectedClass=\\\"selected\\\">None of them</$button>\\n     <$button set=\\\"$(targetTiddler)$!!filter-type\\\" setTo=\\\"others\\\" actions=<<getTiddlersWithOnlyOthers>> class=\\\"can-button\\\" selectedClass=\\\"selected\\\">Has tag but not these</$button>\\n    <$button set=\\\"$(targetTiddler)$!!filter-type\\\" setTo=\\\"untagged\\\" actions=<<getUntaggedTiddlers>> class=\\\"can-button\\\" selectedClass=\\\"selected\\\">Untagged</$button>\\n</div>\\n\\\\end\\n\\n\\\\define chainFilters(targetTiddler) {{$(targetTiddler)$!!contains-filter}} {{$(targetTiddler)$!!contains-not-filter}}\\n\\n\\\\define chainwithinputlist() $(firstchain)$[list[!!input-list]subfilter<firstchain>]\\n\\n\\n\\\\define filterbytags(targetTiddler)\\n<$set name=\\\"targetTiddler\\\" value=<<__targetTiddler__>> emptyValue=<<currentTiddler>> >\\n<$vars desiredTags={{$(targetTiddler)$!!listfilterlist}} undesiredTags={{$(targetTiddler)$!!excludetags}} inputList={{!!input-list}}>\\n''Desired tags:'' <<desiredTags>><br>\\n''Undesired tags:'' <<undesiredTags>><br>\\n<!-- ''Input list:'' {{!!input-list}}<br> -->\\n<!-- ''Test filter:'' <$list filter=\\\"[list[!!input-list]]\\\"/><br> -->\\nMatch tiddlers with these tags:\\n<<filtertypeselect>>\\n<div class=\\\"can-list\\\">\\n\\n<!-- Testing stuff:\\n    <$wikify name=bard text=\\\"\\\"\\\"{{$(targetTiddler)$!!contains-filter}}\\\"\\\"\\\" >\\n    <$wikify name=notbard text=\\\"\\\"\\\"{{$(targetTiddler)$!!contains-not-filter}}\\\"\\\"\\\" >\\n    <$wikify name=wholechain text=\\\"\\\"\\\"$(chainFilters)$\\\"\\\"\\\" >\\n    ''Contains filter:'' <<bard>><br>\\n    ''Contains-not filter:'' <<notbard>><br>\\n    ''Chained filter:'' <<wholechain>><br>\\n    ''literal chainFilters:'' $(chainFilters)$ <br>\\n\\n    ''Contains-filter results:''<br>\\n    <$list filter=<<bard>> template=\\\"\\\"\\\"$:/templates/can/titlewithtags\\\"\\\"\\\" /> <br>  \\n    ''Net filter results:''<br>\\n    <$list filter=<<wholechain>> template=\\\"\\\"\\\"$:/templates/can/titlewithtags\\\"\\\"\\\" /><br>\\n    </$wikify></$wikify></$wikify> -->\\n    \\n    <$wikify name=firstchain text=\\\"\\\"\\\"$(chainFilters)$\\\"\\\"\\\" >\\n    <$set name=\\\"morechain\\\" filter=\\\"\\\"\\\"[<targetTiddler>has[input-list]]\\\"\\\"\\\" value=<<chainwithinputlist>> emptyValue=<<firstchain>>>\\n    ''Results:''<br>\\n    <$list filter=<<morechain>> template=\\\"\\\"\\\"$:/templates/can/titlewithtags\\\"\\\"\\\" /><br>\\n    <!-- <<make-browse-omni>> -->\\n    </$set></$wikify>\\n</div>\\n</$vars></$set>\\n\\\\end\\n\\n\\\\define excludebrowsechain() $(morechain)$ -[search::literal[<<tagbrowse>>]]\\n\\n\\\\define make-browse-omni(targetTiddler) \\nOmnilist to export:<br>\\n<$list filter=<<excludebrowsechain>> ><$link/><br></$list>\\n<$set name=\\\"targetTiddler\\\" value=<<__targetTiddler__>> emptyValue=<<currentTiddler>> >\\n<$button>\\n<$action-createtiddler $basetitle=\\\"Omnibus from list\\\" $savetitle=!!latest-omniexport  /><$action-listops $tiddler={{$(targetTiddler)$!!latest-omniexport}} $filter=<<excludebrowsechain>> />\\n<$action-listops $tiddler={{$(targetTiddler)$!!latest-omniexport}} $tags=omnibus />\\nList to omnibus: \\n</$button>\\n<br>\\n''latest omni export:'' {{{[{!!latest-omniexport}]}}}\\n</$set>\\n\\\\end\\n\\n<!-- \\\\define chainwithinputlist() $(firstchain)$-[!enlist{!!inputList}]-[is[system]] -->\"\n        },\n        \"$:/plugins/can/omni/list-to-omni-macro\": {\n            \"title\": \"$:/plugins/can/omni/list-to-omni-macro\",\n            \"tags\": \"$:/tags/Macro\",\n            \"text\": \"\\\\define concatfilters() {{!!contains-filter}}[all[current]tags[]]\\n\\n\\\\define list-to-omni(targetTiddler) \\n<$set name=\\\"targetTiddler\\\" value=<<__targetTiddler__>> emptyValue=<<currentTiddler>> >\\n<$set name=\\\"desiredTags\\\" value={{$(targetTiddler)$!!listfilterlist}}>\\n<$button>\\n<$action-createtiddler $basetitle=\\\"Omnibus from list\\\" $savetitle=!!latest-omniexport  /><$action-listops $tiddler={{$(targetTiddler)$!!latest-omniexport}} $filter=$(concatfilters)$ />\\n<$action-listops $tiddler={{$(targetTiddler)$!!latest-omniexport}} $tags=omnibus />\\nList to omnibus: \\n</$button>\\n<br>\\n''latest omni export:'' {{{[{!!latest-omniexport}]}}}\\n\\n\\\\end\"\n        },\n        \"$:/plugins/can/tagbrowse/macros/selector-buttons\": {\n            \"title\": \"$:/plugins/can/tagbrowse/macros/selector-buttons\",\n            \"tags\": \"[[Filter by tag macro]] can $:/tags/Macro\",\n            \"type\": \"text/vnd.tiddlywiki\",\n            \"text\": \"\\\\whitespace trim\\n\\n\\\\define selector-filter-buttons()\\n<div class=\\\"can-tool-row\\\">\\n    <span>Tag type:</span>\\n    <$button set=\\\"!!selector-filter\\\" setTo=\\\"tags[]\\\" class=\\\"can-button\\\" selectedClass=\\\"selected\\\">All</$button>\\n    <$button set=\\\"!!selector-filter\\\" setTo=\\\"tags[]!is[system]\\\" class=\\\"can-button\\\" selectedClass=\\\"selected\\\">Non-system</$button>\\n    <$button set=\\\"!!selector-filter\\\" setTo=\\\"tags[]is[system]\\\" class=\\\"can-button\\\" selectedClass=\\\"selected\\\">System</$button>\\n</div>\\n\\\\end\\n\\n\\\\define selector-util-buttons()\\n<div class=\\\"can-tool-row\\\">\\n    <$button set=\\\"!!listfilterlist\\\" setTo=\\\"\\\" class=\\\"can-button\\\" actions=\\\"<$action-setfield $field=excludetags/>\\\" >Clear selection</$button>\\t\\n    <$button set=\\\"!!listfilterlist\\\" setTo=\\\"\\\" class=\\\"can-button\\\" >Clear only desired tags</$button>\\t\\n    <$button class=\\\"can-button\\\" actions=\\\"<$action-setfield $field=excludetags/>\\\" >Clear only excluded tags</$button>\\t\\n    <$button set=\\\"!!singleormulti\\\" setTo=<<setsingleormultito>> class=<<singleclass>> >Single-tag mode</$button>\\n</div>\\n\\\\end\"\n        },\n        \"$:/plugins/can/tagbrowse/tag-pill-compound\": {\n            \"title\": \"$:/plugins/can/tagbrowse/tag-pill-compound\",\n            \"tags\": \"$:/tags/Macro\",\n            \"text\": \"\\\\define tagbrowse-tag-pill-inner(tag,icon,colour,fallbackTarget,colourA,colourB,element-tag,element-attributes,actions,svgcol)\\n<$vars foregroundColor=<<contrastcolour target:\\\"\\\"\\\"$colour$\\\"\\\"\\\" fallbackTarget:\\\"\\\"\\\"$fallbackTarget$\\\"\\\"\\\" colourA:\\\"\\\"\\\"$colourA$\\\"\\\"\\\" colourB:\\\"\\\"\\\"$colourB$\\\"\\\"\\\">> backgroundColor=\\\"\\\"\\\"$colour$\\\"\\\"\\\" excludedfilter=\\\"[<targetTiddler>contains:excludetags<currentTiddler>]\\\" >\\n<$set name=\\\"svgColour\\\" filter=<<excludedfilter>> value=\\\"\\\"\\\"$svgcol$\\\"\\\"\\\" emptyValue=<<foregroundColor>> >\\n<div class=\\\"omni-pill\\\"><$element-tag$ $element-attributes$ class=\\\"\\\"\\\"tc-btn-invisible omni-pill-lhs\\\"\\\"\\\" style=<<omni-tag-pill-styles>>>\\n$actions$<$transclude tiddler=\\\"\\\"\\\"$icon$\\\"\\\"\\\"/><$view tiddler=<<__tag__>> field=\\\"title\\\" format=\\\"text\\\" />\\n</$element-tag$>\\n<$element-tag$ $element-attributes$ class=\\\"\\\"\\\"tc-btn-invisible omni-pill-rhs\\\"\\\"\\\" style=<<omni-tag-pill-styles>>>\\n<<add-to-undesired-tags>>{{$:/plugins/can/tagbrowse/exclude-icon.svg}}\\n</$element-tag$></div>\\n</$set></$vars>\\n\\\\end\\n\\n\\n\\\\define tagbrowse-tag-pill-body(tag,icon,colour,palette,element-tag,element-attributes,actions,svgcol)\\n<$macrocall $name=\\\"tagbrowse-tag-pill-inner\\\" tag=<<__tag__>> icon=\\\"\\\"\\\"$icon$\\\"\\\"\\\" colour=\\\"\\\"\\\"$colour$\\\"\\\"\\\" fallbackTarget={{$palette$##tag-background}} colourA={{$palette$##foreground}} colourB={{$palette$##background}} element-tag=\\\"\\\"\\\"$element-tag$\\\"\\\"\\\" element-attributes=\\\"\\\"\\\"$element-attributes$\\\"\\\"\\\" actions=\\\"\\\"\\\"$actions$\\\"\\\"\\\" svgcol=\\\"\\\"\\\"$svgcol$\\\"\\\"\\\"/> \\n\\\\end\\n\\n\\\\define omni-tag-pill-styles()\\nbackground-color:$(backgroundColor)$;\\nfill:$(svgColour)$;\\ncolor:$(foregroundColor)$;\\n\\\\end\\n\"\n        },\n        \"$:/plugins/can/tagbrowse/macros/tagbrowse\": {\n            \"title\": \"$:/plugins/can/tagbrowse/macros/tagbrowse\",\n            \"created\": \"20200817151953467\",\n            \"tags\": \"$:/tags/Macro\",\n            \"type\": \"text/vnd.tiddlywiki\",\n            \"text\": \"\\\\define tagbrowse()\\n<$set name=\\\"setsingleormultito\\\" filter=\\\"[singleormulti[single]]\\\" value=\\\"multi\\\" emptyValue=\\\"single\\\">\\n<$set name=\\\"singleclass\\\" filter=\\\"[singleormulti[single]]\\\"\\nvalue=\\\"can-button selected\\\" emptyValue=\\\"can-button\\\">\\n<div class=\\\"can-browse-container\\\">\\n    <div class=\\\"can-rowflex-l\\\" >\\n        <h2>Select tags to filter by:</h2>\\n        <div class=\\\"can-vert-flex\\\">\\n            <<selector-filter-buttons>>\\n            <<selector-util-buttons>>\\n        </div>\\n        <div class=\\\"can-horiz-flex\\\">\\n        <!--check singleormulti: {{!!singleormulti}} <br>\\n        check singleclass: <<singleclass>> <br>\\n        check setsingleormultito: <<setsingleormultito>> <br> -->\\n            <$macrocall $name=\\\"tagbrowselist\\\" singlemode={{!!singleormulti}}/>\\n        </div>\\n    </div>\\n    <div class=\\\"can-rowflex-r\\\">\\n        <<filterbytags>>\\n    </div>\\n</div>\\n</$set></$set>\\n\\\\end\\n\"\n        },\n        \"$:/plugins/can/tagbrowse/macros/tagbrowseredundant\": {\n            \"title\": \"$:/plugins/can/tagbrowse/macros/tagbrowseredundant\",\n            \"created\": \"20200817151953467\",\n            \"singleormulti\": \"multi\",\n            \"modified\": \"20200817152818725\",\n            \"tags\": \"\",\n            \"type\": \"text/vnd.tiddlywiki\",\n            \"text\": \"\\\\define tagbrowse()\\n<$set name=\\\"setto\\\" filter=\\\"[singleormulti[single]]\\\" value=\\\"\\\" emptyValue=\\\"single\\\">\\n<$set name=\\\"singleclass\\\" filter=\\\"[singleormulti[single]]\\\"\\nvalue=\\\"can-button selected\\\" emptyValue=\\\"can-button\\\">\\n  \\n<div class=\\\"can-browse-container\\\">\\n    <div class=\\\"can-rowflex-l\\\" >\\n        <h2>Select tags to filter by:</h2>\\n        <div class=\\\"can-vert-flex\\\">\\n            <<selector-filter-buttons>>\\n            <<selector-util-buttons>>\\n        </div>\\n        <div class=\\\"can-horiz-flex\\\">\\n            <$macrocall $name=\\\"tagbrowselist\\\" singlemode={{!!singleormulti}}/>\\n        </div>\\n    </div>\\n    <div class=\\\"can-rowflex-r\\\">\\n        <<filterbytags>>\\n    </div>\\n</div>\\n</$set></$set></$set>\\n\\\\end\\n\"\n        },\n        \"$:/plugins/can/tagbrowse/macros/tagselection\": {\n            \"title\": \"$:/plugins/can/tagbrowse/macros/tagselection\",\n            \"tags\": \"[[Filter by tag macro]] can $:/tags/Macro\",\n            \"type\": \"text/vnd.tiddlywiki\",\n            \"text\": \"\\\\whitespace trim\\n\\n\\\\define sorted() [$(filter)$sort[]]\\n\\n\\\\define addaction() <$action-listops $tiddler=<<targetTiddler>> $field='listfilterlist' $subfilter=[all[current]]/><$action-listops $tiddler=<<targetTiddler>> $field='excludetags' $subfilter=<<removesubfilter>>/>\\n\\n\\\\define removeaction() <$action-listops $tiddler=<<targetTiddler>> $field='listfilterlist' $subfilter=<<removesubfilter>>/>\\n\\n\\\\define replace-action() <$action-listops $tiddler=<<targetTiddler>> $field='listfilterlist' $filter=[all[current]]/><$action-listops $tiddler=<<targetTiddler>> $field='excludetags' $subfilter=<<removesubfilter>>/>\\n\\n\\\\define add-to-undesired-tags() <$action-listops $tiddler=<<targetTiddler>> $field='excludetags' $subfilter=[all[current]]/><$action-listops $tiddler=<<targetTiddler>> $field='listfilterlist' $subfilter=<<removesubfilter>>/>\\n\\n\\n\\\\define tagbrowselist(targetTiddler singlemode filterParam)\\n<$set name=\\\"targetTiddler\\\" value=<<__targetTiddler__>> emptyValue=<<currentTiddler>> >\\n<$set name=\\\"filter\\\" value=<<__filterParam__>> emptyValue={{$(targetTiddler)$!!selector-filter}}>\\n<$vars \\n    condfilter=\\\"[<targetTiddler>contains:listfilterlist<currentTiddler>]\\\"\\n    removesubfilter=\\\"-[all[current]]\\\"\\n    svgcol=#aa5555\\n>\\n<$set name=\\\"choosemode\\\" filter=\\\"[[$singlemode$]match[single]]\\\" value=\\\"tagpills-singlemode\\\" emptyValue=\\\"tagpills-multimode\\\" >\\n    <$list filter=<<sorted>> >\\n        <$set name=\\\"col\\\" filter=<<condfilter>> value=#555599 emptyValue=#999999>\\n        <$macrocall $name=<<choosemode>> />\\n        </$set>\\n    </$list>\\n</$set></$vars></$set></$set>\\n\\\\end\\n\\n\\\\define tagpills-singlemode()\\n    <$macrocall $name=\\\"tagbrowse-tag-pill-body\\\" tag=<<currentTiddler>> colour=<<col>> icon={{!!icon}} palette={{$:/palette}} element-tag=\\\"\\\"\\\"$button\\\"\\\"\\\" element-attributes=\\\"\\\"\\\"tag='span'\\\"\\\"\\\" actions=\\\"<<replace-action>>\\\" svgcol=<<svgcol>>/> \\n\\\\end\\n\\n\\\\define tagpills-multimode()\\n<$set name=\\\"multi-action\\\" filter=<<condfilter>> value=\\\"<<removeaction>>\\\" emptyValue=\\\"<<addaction>>\\\">\\n    <$macrocall $name=\\\"tagbrowse-tag-pill-body\\\" tag=<<currentTiddler>> colour=<<col>> icon={{!!icon}} palette={{$:/palette}} element-tag=\\\"\\\"\\\"$button\\\"\\\"\\\" element-attributes=\\\"\\\"\\\"tag='span'\\\"\\\"\\\" actions=<<multi-action>>  svgcol=<<svgcol>>/> \\n</$set>\\n\\\\end\\n\"\n        },\n        \"$:/plugins/can/tagbrowse/readme\": {\n            \"title\": \"$:/plugins/can/tagbrowse/readme\",\n            \"caption\": \"readme\",\n            \"text\": \"@@background: #ffdd66;font-weight:bold;This is a plugin I wrote for myself, and it has not been extensively tested. It may also change. Back up your data, and use at your own risk!@@\\n\\nThe ''tagbrowse'' plugin allows listing of tiddlers by combinations of tags, selected visually from a tag list.\"\n        },\n        \"$:/plugins/can/tagbrowse/stylesheet\": {\n            \"title\": \"$:/plugins/can/tagbrowse/stylesheet\",\n            \"created\": \"20200526163758304\",\n            \"creator\": \"chris\",\n            \"modified\": \"20200817145936996\",\n            \"modifier\": \"chris\",\n            \"tags\": \"$:/tags/Stylesheet\",\n            \"type\": \"text/vnd.tiddlywiki\",\n            \"text\": \"div.can-tool-row {display: flex; flex-wrap: wrap; justify-content: flex-end; margin: 1em 0;}\\n\\ndiv.can-rowflex-l { max-width: 50%; margin-right: 2em; } \\n\\ndiv.can-rowflex-r { flex: 1 0.4 auto;}\\n\\n.can-browse-container { display: flex; flex-direction: row;}\\n\\n.can-horiz-flex { display: flex; flex-direction: row; flex-wrap: wrap;}\\n\\n.can-vert-flex { display: flex; flex-direction: column; align-items: end;}\\n\\nbutton.can-button {\\n    color: #888888;\\n    background: none;\\n    border: 0.6px solid #aaa;\\n    border-radius: 3px;\\n    margin: 0.2em;\\n}\\n\\nbutton.can-button.selected { \\n    color: #6633dd; \\n    background: #ccccff;\\n}\\n\\n.tc-tag-label.can-tags-sml {\\n    font-size: 0.7em;\\n}\\n\\n\\n.omni-pill {\\n    margin: 0.05em 0.1em;\\n    display: flex;\\n    flex-direction: row;\\n    border: none;\\n    font-size: 0.7em;\\n    font-weight: 400;\\n    line-height: 1.2em;\\n    white-space: nowrap;\\n    vertical-align: baseline;\\n    \\n}\\n\\n.omni-pill-lhs {\\nborder-radius: 1em 0 0 1em;\\nmargin-right: 0;\\n    display: inline-block;\\n    padding: 0.16em 0.2em 0.16em 0.7em;\\n    \\n}\\n\\n.omni-pill-rhs {\\n    flex-shrink: 0;\\nborder-radius: 0 1em 1em 0;\\nmargin-left: 0;\\nborder: none;\\n    display: inline-block;\\n    padding: 0.16em 0.7em 0.16em 0.4em;\\n}\\n\\n.omni-pill-rhs svg {\\n    width: 0.7em;\\n    height: 0.7em;\\n}\\n\"\n        },\n        \"$:/templates/can/titlewithtags\": {\n            \"title\": \"$:/templates/can/titlewithtags\",\n            \"created\": \"20200529015419596\",\n            \"creator\": \"chris\",\n            \"modified\": \"20200817202737359\",\n            \"modifier\": \"chris\",\n            \"tags\": \"[[Filter by tag macro]]\",\n            \"type\": \"text/vnd.tiddlywiki\",\n            \"text\": \"\\\\define listtags() \\n<$list filter=\\\"[all[current]tags[]]\\\">\\n<span class=\\\"tc-tag-label can-tags-sml\\\"><$view field=title/></span>\\n</$list>\\n\\\\end\\n\\n<$link><$view field=title/>\\n</$link><<listtags>><br>\"\n        }\n    }\n}"}